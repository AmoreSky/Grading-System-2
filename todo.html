<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>

<body>
    <div>
        <div class="mt-lg-5 col-lg-6 col-11 mt-3 container mx-auto shadow p-3">
            <h1 class="text-center text-decoration-underline">ToDo Application</h1>
            <p class="alert alert-danger" style="display: none;" id="showError">Input something</p>
            <input type="text" placeholder="Input Todo" id="todo" class="form-control form-control-sm shadow-none my-3">
            <input type="text" placeholder="Input Description" id="desc"
                class="form-control form-control-sm shadow-none my-3">
            <button onclick="addTodo()" class="btn btn-primary btn-sm my-3 w-100">Add ToDo</button>
            <div class="row">
                <button onclick="delFirst()" class="btn btn-primary btn-sm my-1 mx-3 col">Delete First Item</button>
                <button onclick="deLast()" class="btn btn-dark my-1 mx-3 col">Delete Last Item</button>
                <button onclick="delAny()" class="btn btn-info my-1 mx-3 col">Delete Any Item</button>
                <button onclick="edit()" class="btn btn-warning my-1 mx-3 col">Edit Item</button>
                <button onclick="addToStart()" class="btn btn-success my-1 mx-3 col">Add Item To The Start</button>
                <button onclick="delAll()" class="btn btn-danger my-1 mx-3 col">Delete All Items</button>
            </div>
        </div>

    </div>
    <div class="ms-5 me-5" id="contain">
        <table class="table table-bordered table-striped text-center" id="show">
            <!-- <tr>
                        <td class="col-1">S/N</td>
                        <td class="col-3">ToDo</td>
                        <td class="col-3">Description</td>
                        <td class="col-3">Date</td>
                        <td class="col-3">Time</td>
                    </tr> -->
        </table>
    </div>
    <script>
        var allToDo = []
        function addTodo() {
            // console.log('i');
            var inputOne = todo.value
            var inputtwo = desc.value
            var date = new Date().toLocaleDateString()
            var time = new Date().toLocaleTimeString()

            if (inputOne == '' || inputtwo == '') {
                showError.style.display = 'block'
            } else {
                showError.style.display = 'none'
                var todoObj = {
                    todo: inputOne,
                    desc: inputtwo,
                    date,
                    time
                }
                console.log(todoObj);
                allToDo.push(todoObj)
                document.getElementById('todo').value = ''
                document.getElementById('desc').value = ''
                console.log(allToDo);
    
                displayToDo()
            }
            // document.getElementById("contain").innerHTML = ''
        }

        function delFirst() {
            // console.log("hu");
            allToDo.shift()
            displayToDo()
        }

        function deLast() {
            allToDo.pop()
            displayToDo()
            // alert("im")
            // console.log('h');
        }
        function delAny() {
            // console.log('h');
            var collectedNum = Number(prompt("Enter the number you would like to delete"))
            if (collectedNum > allToDo.length) {
                alert("Maximum number exeeded")
            }
            else{
                allToDo.splice(collectedNum-1, 1)
                displayToDo()
            }
        }
        // function edit() {
        //     var collectedNum = Number(prompt("Enter the number you would like to edit"))
        //     if (collectedNum > allToDo.length) {
        //         alert("Maximum number exeeded")
        //     }
        //     else{
        //         var newtodo = {
        //             todo = 
        //         }
        //         var replacement = prompt("What would you like to replace it with")
        //         allToDo.splice(collectedNum-1, 1, replacement)
        //         displayToDo()
        //     }
        // }
        function addToStart() {
            var replacement = prompt('what would you like to be the replacement')
            // allToDo.unshift(replacement)
            console.log(allToDo.unshift(replacement));
            // displayToDo()
        }

        function displayToDo() {
            show.innerHTML = ''
            show.innerHTML = `
                <tr>
                    <td class="col-1">S/N</td>
                    <td class="col-4">ToDo</td>
                    <td class="col-4">Description</td>
                    <td class="col-4">Date</td>
                    <td class="col-4">Time</td>
                </tr>
                
                `
            for (let i = 0; i < allToDo.length; i++) {
                // console.log(i);
                var showTodo = allToDo[i].todo
                var showDesc = allToDo[i].desc
                var showDate = allToDo[i].date
                var showTime = allToDo[i].time

                console.log(showDate, showDesc, showTime, showTodo);

                // show.innerHTML += `
                //     <h1>${showTodo}</h1>
                //     <h3>${showDesc}</h3>
                //     <small>${showDate, showTime}</small>

                // `
                // show.innerHTML = `
                // <tr>
                //     <td class="col-1">S/N</td>
                //     <td class="col-4">ToDo</td>
                //     <td class="col-4">Description</td>
                //     <td class="col-4">Date</td>
                //     <td class="col-4">Time</td>
                // </tr>
                
                // `
                show.innerHTML += `<table style="border:thin solid black;">
                        <tr>
                            <td>${i + 1}</td>
                            <td>${showTodo}</td>
                            <td>${showDesc}</td>
                            <td>${showDate}</td>
                            <td>${showTime}</td>
                        </tr>
                          </table>`
            }
        }
        
        </script>

</body>

</html>